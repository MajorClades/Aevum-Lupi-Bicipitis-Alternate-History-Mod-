custom_button = {
	name = cash_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		years_of_income = 1
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = cash_favor_button_cooldown
			}
		}
	}
	effect = {
		custom_tooltip = alb_gives_0_25_papal_favor
		add_years_of_income = -1
		hidden_effect = {
			export_to_variable = {
				which = cash_to_give
				value = years_of_income
				who = ROOT
			}
			change_variable = {
				which = pont_cash_bank_var
				which = cash_to_give
			}
			add_country_modifier = {
				name = cash_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = cash_f1_tt
}

custom_button = {
	name = cash2_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		check_variable = {
			which = pont_cash_bank_var
			which = years_of_income
		}
		check_variable = {
			which = papal_favor_var
			value = 10
		}
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = cash2_favor_button_cooldown
			}
		}
	}
	effect = {
		subtract_variable = {
			which = papal_favor_var
			value = 10
		}
		add_years_of_income = 1
		hidden_effect = {
			export_to_variable = {
				which = cash_to_give
				value = years_of_income
				who = ROOT
			}
			subtract_variable = {
				which = pont_cash_bank_var
				which = cash_to_give
			}
			add_country_modifier = {
				name = cash2_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = cash_f2_tt
}

custom_button = {
	name = prestige_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		prestige = 30
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = prestige_favor_button_cooldown
			}
		}
	}
	effect = {
		custom_tooltip = alb_gives_0_25_papal_favor
		hidden_effect = {
			add_country_modifier = {
				name = prestige_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = prestige_f1_tt
}

custom_button = {
	name = prestige2_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		check_variable = {
			which = papal_favor_var
			value = 5
		}
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = prestige2_favor_button_cooldown
			}
		}
	}
	effect = {
		add_prestige_or_monarch_power = { amount = 30 }
		subtract_variable = {
			which = papal_favor_var
			value = 5
		}
		hidden_effect = {
			add_country_modifier = {
				name = prestige2_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = prestige_f2_tt
}

custom_button = {
	name = dip_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		dip_power = 200
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = dip_favor_button_cooldown
			}
		}
	}
	effect = {
		add_dip_power = -200
		custom_tooltip = alb_gives_0_25_papal_favor
		hidden_effect = {
			add_country_modifier = {
				name = dip_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = dip_f1_tt
}

custom_button = {
	name = dip2_favor_button
	potential = {
		religion = pontifex
	}
	trigger = {
		check_variable = {
			which = papal_favor_var
			value = 10
		}
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = dip2_favor_button_cooldown
			}
		}
	}
	effect = {
		subtract_variable = {
			which = papal_favor_var
			value = 10
		}
		add_dip_power = 100
		hidden_effect = {
			add_country_modifier = {
				name = dip2_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = dip_f2_tt
}

custom_button = {
	name = adm_favor_button
	potential = {
		religion = pontifex
		has_country_flag = pontifex_nice_flag
	}
	trigger = {
		adm_power = 200
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = adm_favor_button_cooldown
			}
		}
	}
	effect = {
		add_adm_power = -200
		custom_tooltip = alb_gives_0_25_papal_favor
		hidden_effect = {
			add_country_modifier = {
				name = adm_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = adm_f1_tt
}

custom_button = {
	name = adm2_favor_button
	potential = {
		religion = pontifex
		has_country_flag = pontifex_nice_flag
	}
	trigger = {
		check_variable = {
			which = papal_favor_var
			value = 10
		}
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = adm2_favor_button_cooldown
			}
		}
	}
	effect = {
		subtract_variable = {
			which = papal_favor_var
			value = 10
		}
		add_adm_power = 100
		hidden_effect = {
			add_country_modifier = {
				name = adm2_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = adm_f2_tt
}

custom_button = {
	name = mil_favor_button
	potential = {
		religion = pontifex
		has_country_flag = pontifex_naughty_flag
	}
	trigger = {
		mil_power = 200
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = mil_favor_button_cooldown
			}
		}
	}
	effect = {
		add_mil_power = -200
		custom_tooltip = alb_gives_0_25_papal_favor
		hidden_effect = {
			add_country_modifier = {
				name = mil_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = mil_f1_tt
}

custom_button = {
	name = mil2_favor_button
	potential = {
		religion = pontifex
		has_country_flag = pontifex_naughty_flag
	}
	trigger = {
		check_variable = {
			which = papal_favor_var
			value = 10
		}
		custom_trigger_tooltip = {
			tooltip = ALB_NOT_TAKEN_IN_3_YEARS_TT
			NOT = {
				has_country_modifier = mil2_favor_button_cooldown
			}
		}
	}
	effect = {
		subtract_variable = {
			which = papal_favor_var
			value = 10
		}
		add_mil_power = 100
		hidden_effect = {
			add_country_modifier = {
				name = mil2_favor_button_cooldown
				duration = 1095
				hidden = yes
			}
		}
	}
	tooltip = mil_f2_tt
}

custom_button = {
	name = big_pope_button
	potential = {
		religion = pontifex
		NOT = {
			tag = event_target:pontifex_pope_tag
		}
	}
	trigger = {
		stability = 3
		check_variable = {
			which = papal_favor_var
			value = 100
		}
		event_target:pontifex_pope_tag = {
			exists = yes
		}
	}
	effect = {
		if = {
			limit = { senior_union_with = event_target:pontifex_pope_tag}
			inherit = event_target:pontifex_pope_tag
			hidden_effect = {
				save_global_event_target_as = pontifex_pope_tag
			}
		}else = {
			create_union = event_target:pontifex_pope_tag
		}
	}
	tooltip = become_big_pope_tt
}

custom_button = {
	name = big_pope_tech_button
	potential = {
		religion = pontifex
		tag = event_target:pontifex_pope_tag
	}
	trigger = {
		check_variable = {
			which = papal_favor_var
			value = 100
		}
	}
	effect = {
		if = {
			limit = {
				has_country_flag = pontifex_nice_flag
			}
			add_adm_tech = 1
			add_country_modifier = {
				name = pont_adm_tech_more
				duration = 10950
			}
		}else = {
			add_mil_tech = 1
			add_country_modifier = {
				name = pont_mil_tech_more
				duration = 10950
			}
		}
	}
	tooltip = become_big_tech_tt
}

custom_text_box = {
    name = papal_favor_text 
    potential = { 
		religion = pontifex
	} 
	tooltip = papal_favor_text_desc
}

custom_icon = {
    name = papal_favor_bg 
    potential = { 
		religion = pontifex
	} 
}

custom_icon = {
	name = papal_favor_bar
	potential = {
		religion = arian
	}
	tooltip = papal_favor_bar_desc
	frame_variable = papal_favor_var
}
