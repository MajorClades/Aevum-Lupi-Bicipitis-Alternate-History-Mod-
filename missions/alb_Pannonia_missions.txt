Pannonia_1_slot = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		NOT = { tag = ROM } 
		OR = {
			tag = DA2
			AND = {
				has_country_flag = generic_italy_MT
				was_tag = DA2
			}
		}
	}

	pann_making_it_grain = {
		icon = mission_rb_inland_india
		position = 2
		required_missions = { pann_feed_the_city } 
		provinces_to_highlight = {
			trade_goods = grain
			has_manufactory_trigger = no
			country_or_non_sovereign_subject_holds = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 4
				trade_goods = grain
				has_manufactory_trigger = yes
			}
		}

		effect = {
			set_country_flag = get_manpower_from_dev_grain_flag
			custom_tooltip = PANN_TT_2
		}
	}

	pann_grain_maxxing = {
		icon = mission_rb_inland_india
		position = 3
		required_missions = {pann_making_it_grain pann_more_grain } 
		provinces_to_highlight = {
			trade_goods = grain
			NOT = {base_production = 10}
			region = carpathia_region
			country_or_non_sovereign_subject_holds = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 4
				region = carpathia_region
				trade_goods = grain
				base_production = 10
			}
		}

		effect = {
			custom_tooltip = PANN_TT_3
			hidden_effect = {
				every_owned_province = {
					limit = {
						region = carpathia_region
						OR = {
							trade_goods = livestock
							trade_goods = naval_supplies
							trade_goods = wool
						}
					}
					change_trade_goods = grain
				}
			}
		}
	}
}

Pannonia_2_slot = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		NOT = { tag = ROM } 
		OR = {
			tag = DA2
			AND = {
				has_country_flag = generic_italy_MT
				was_tag = DA2
			}
		}
	}

	pann_feed_the_city = {
		icon = king_of_sicily
		position = 1
		provinces_to_highlight = { province_id = 1864 } 

		trigger = {
			treasury = 200
			owns = 1864
		}

		effect = {
			add_treasury = -200
			1864 = {
				change_trade_goods = grain
				add_province_triggered_modifier = pannonia_blessed_g_rain
			}
		}
	}

	pann_more_grain = {
		icon = mission_rb_inland_india
		position = 2
		required_missions = { pann_feed_the_city } 
		provinces_to_highlight = {
			trade_goods = grain
			country_or_non_sovereign_subject_holds = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				trade_goods = grain
			}
		}

		effect = {
			add_country_modifier = {
				name = pannonian_beers
				duration = 10950
			}
		}
	}

	
}

Pannonia_3_slot = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		NOT = { tag = ROM } 
		OR = {
			tag = DA2
			AND = {
				has_country_flag = generic_italy_MT
				was_tag = DA2
			}
		}
	}

	pann_greater_pannonia = {
		icon = mission_rb_inland_india
		position = 2
		required_missions = { pann_army } 
		provinces_to_highlight = {
			area = alfold_area
			NOT = {country_or_non_sovereign_subject_holds = ROOT}
		}

		trigger = {
			alfold_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_prestige_or_monarch_power = {amount = 15}
			slovakia_area = {
				add_permanent_claim = ROOT
			}
			transylvania_area = {
				add_permanent_claim = ROOT
			}
			southern_transylvania_area = {
				add_permanent_claim = ROOT
			}
		}
	}
}

Pannonia_4_slot = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		NOT = { tag = ROM } 
		OR = {
			tag = DA2
			AND = {
				has_country_flag = generic_italy_MT
				was_tag = DA2
			}
		}
	}

	pann_army = {
		icon = king_of_sicily
		position = 1

		trigger = {
			if = {
				limit = { ai = yes } 
				army_size_percentage = 0.6
				num_of_generals = 1
			}
			else = { army_size_percentage = 1 } 
		}

		effect = {
			transdanubia_area = {
				add_permanent_claim = ROOT
			}
			alfold_area = {
				add_permanent_claim = ROOT
			}
		}
	}

	pann_noria = {
		icon = king_of_sicily
		position = 2
		required_missions = { pann_army } 
		provinces_to_highlight = { province_id = 4751	}
		trigger = {
			OR = {
				DA4 = {
					trust = {
						who = ROOT
						value = 90
					}
					owes_favors = {
						who = ROOT
						value = 50
					}
				}
				4751 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}

		effect = {
			vassalize = DA4
			4751 = {
				add_or_upgrade_tax_building = yes
			}
		}
	}
	pann_danubian = {
		icon = mission_rb_inland_india
		position = 3
		required_missions = { pann_greater_pannonia pann_greater_illyria} 
		provinces_to_highlight = {
			region = carpathia_region
			NOT = {country_or_non_sovereign_subject_holds = ROOT}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				region = carpathia_region
			}
		}

		effect = {
			change_government_reform_progress = 50
			set_country_flag = grainlords_reform_flag
			custom_tooltip = PANN_TT_4
			tooltip = {
				add_government_reform = grainlords_of_pannonia
			}
			carpathia_region = {
				add_permanent_claim = ROOT
			}
		}
	}
}

Pannonia_5_slot = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		NOT = { tag = ROM } 
		OR = {
			tag = DA2
			AND = {
				has_country_flag = generic_italy_MT
				was_tag = DA2
			}
		}
	}

	pann_greater_illyria = {
		icon = mission_rb_inland_india
		position = 2
		required_missions = { pann_army } 
		provinces_to_highlight = {
			area = transdanubia_area
			NOT = {country_or_non_sovereign_subject_holds = ROOT}
		}

		trigger = {
			transdanubia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			1864 = {
				add_or_upgrade_production_building = yes
			}
			austria_proper_area = {
				add_permanent_claim = ROOT
			}
			inner_austria_area = {
				add_permanent_claim = ROOT
			}
		}
	}
	pann_move_illyria = {
		icon = mission_rb_inland_india
		position = 3
		required_missions = { pann_greater_illyria } 
		provinces_to_highlight = {
			OR = {
				area = austria_proper_area
				area = inner_austria_area
			}
			NOT = {country_or_non_sovereign_subject_holds = ROOT}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				OR = {
					area = austria_proper_area
					area = inner_austria_area
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = pannonian_crowns
				duration = 10950
			}
			carinthia_area = {
				add_permanent_claim = ROOT
			}
			croatia_area = {
				add_permanent_claim = ROOT
			}
			bosnia_area = {
				add_permanent_claim = ROOT
			}
		}
	}
}