namespace = kormongol

#djalair sitrep
country_event = {
	id = kormongol.0
	title = "kormongol.0.t"
	desc = "kormongol.0.d"
	picture = OVEREXTENSION_eventPicture
	fire_only_once = yes
	
	trigger = {
		tag = KM1
		exists = KM2
		exists = KM3
		exists = KM4
		has_ruler = "Adai Taiji"
	}

	mean_time_to_happen = {
		months = 1
	}
	
	option = { 
		name = "kormongol.0a"
		custom_tooltip = SOLONGOS_TT_1
		
		hidden_effect = {
			every_country = {
				limit = {
					NOT = { tag = ROOT }
					OR = {
						culture = mongol
						any_owned_province = {
							is_core = KM1
						}
					}
				}
				country_event = { id = kormongol.1 }
			}
		}
	}
}

#goober sitrep
country_event = {
	id = kormongol.1
	title = "kormongol.1.t"
	desc = "kormongol.1.d"
	picture = OVEREXTENSION_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
		
	option = { 
		name = "kormongol.1a"
		custom_tooltip = SOLONGOS_TT_2
	}
}

#death of adobe chair djalair
country_event = {
	id = kormongol.2
	title = "kormongol.2.t"
	desc = "kormongol.2.d"
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = KM1
		NOT = { has_global_flag = death_of_adobe_chair }
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_global_flag = death_of_adobe_chair
	}
	
	option = { 
		name = "kormongol.2a"
		release_all_subjects = yes
		add_legitimacy = -25
		hidden_effect = {
			every_country = {
				limit = {
					NOT = { tag = ROOT }
					OR = {
						culture = mongol
						any_owned_province = {
							is_core = KM1
						}
					}
				}
				country_event = { id = kormongol.3 }
			}
		}
	}
	option = { 
		name = "kormongol.2b"
		KM2 = { add_liberty_desire = 25 }
		KM3 = { add_liberty_desire = 25 }
		KM4 = { add_liberty_desire = 25 }
		hidden_effect = {
			every_country = {
				limit = {
					NOT = { tag = ROOT }
					OR = {
						culture = mongol
						any_owned_province = {
							is_core = KM1
						}
					}
				}
				country_event = { id = kormongol.4 }
			}
		}
	}
}

#death of adobe chair goobers left
country_event = {
	id = kormongol.3
	title = "kormongol.3.t"
	desc = "kormongol.3.d"
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes

	option = {
		name = "kormongol.3a"
	}
}

#death of adobe chair goobers kept
country_event = {
	id = kormongol.4
	title = "kormongol.4.t"
	desc = "kormongol.4.d"
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes

	option = {
		name = "kormongol.4a"
		add_opinion = {
			WHO = KM1
			modifier = kormongol_goobers_kpet
		}
	}
}

#FUTURE
country_event = {
	id = kormongol.5
	title = kormongol.5.t
	desc = kormongol.5.d
	picture = altaic_MILITARY_CAMP_eventPicture
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = kormongol.5a
		ai_chance = {
			factor = 60
		}
		add_government_reform = steppe_horde
		manchuria_region = {
			add_permanent_claim = ROOT
			}
		if = {
			limit = {
				OR = {
						tag = KM1
						was_tag = KM1
				}
			}
			override_country_name = JALAYIRID_STRING
			change_country_color = {
				country = KM1
			}
		}
		if = {
			limit = {
				OR = {
						tag = KM2
						was_tag = KM2
				}
			}
			override_country_name = KHONGIRID_STRING
			change_country_color = {
				country = KM2
			}
		}
		if = {
			limit = {
				OR = {
					tag = KM3
					was_tag = KM3
				}
			}
			override_country_name = OLKHONID_STRING
			change_country_color = {
				country = KM3
			}
		}
		if = {
			limit = {
				OR = {
					tag = KM4
					was_tag = KM4
				}
			}
			override_country_name = ELJIGID_STRING
			change_country_color = {
				country = KM4
			}
		}
	}
	option = {
		name = kormongol.5b
		ai_chance = {
			factor = 40
		}
		restore_country_name = yes
		change_government = monarchy
		add_government_reform = korean_monarchy
		change_religion = confucianism
		add_harmonized_religion = tengri_pagan_reformed
		add_stability = 1
		if = {
			limit = {
				NOT = { technology_group = chinese }
			}
			change_technology_group = chinese
			change_unit_type = chinese
		}

	}
}